function changeCountProduct(t,i){$.post("/products/change-count-products",{id:t,count:i},function(t){})}function totalSum(){var t=0;$.each($(".sum-price"),function(i,e){t+=+$(e).text()}),$(".total-price").text(t)}function deleteProduct(t){$.post("/products/remove-product-to-cart",{id:t},function(i){"ok"==i.status&&(i.data>0?($(".shopping-cart-badge").removeClass("hidden"),$(".shopping-cart-badge").text(i.data)):($(".shopping-cart-badge").addClass("hidden"),$(".shopping-cart-badge").text(""),$(".cart-empty").removeClass("hidden"),$(".empty-block").removeClass("hidden"),$(".content-block").addClass("hidden"),$(".block-total-price").addClass("hidden"),$("#shopping-cart button[type='submit']").addClass("hidden")),$("#bonds-"+t).next("hr").remove(),$("#bonds-"+t).remove())})}(function(){var t,i,e,n,o,s=function(t,i){return function(){return t.apply(i,arguments)}},r=[].indexOf||function(t){for(var i=0,e=this.length;i<e;i++)if(i in this&&this[i]===t)return i;return-1};i=function(){function t(){}return t.prototype.extend=function(t,i){var e,n;for(e in i)n=i[e],null==t[e]&&(t[e]=n);return t},t.prototype.isMobile=function(t){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)},t.prototype.createEvent=function(t,i,e,n){var o;return null==i&&(i=!1),null==e&&(e=!1),null==n&&(n=null),null!=document.createEvent?(o=document.createEvent("CustomEvent"),o.initCustomEvent(t,i,e,n)):null!=document.createEventObject?(o=document.createEventObject(),o.eventType=t):o.eventName=t,o},t.prototype.emitEvent=function(t,i){return null!=t.dispatchEvent?t.dispatchEvent(i):i in(null!=t)?t[i]():"on"+i in(null!=t)?t["on"+i]():void 0},t.prototype.addEvent=function(t,i,e){return null!=t.addEventListener?t.addEventListener(i,e,!1):null!=t.attachEvent?t.attachEvent("on"+i,e):t[i]=e},t.prototype.removeEvent=function(t,i,e){return null!=t.removeEventListener?t.removeEventListener(i,e,!1):null!=t.detachEvent?t.detachEvent("on"+i,e):delete t[i]},t.prototype.innerHeight=function(){return"innerHeight"in window?window.innerHeight:document.documentElement.clientHeight},t}(),e=this.WeakMap||this.MozWeakMap||(e=function(){function t(){this.keys=[],this.values=[]}return t.prototype.get=function(t){var i,e,n,o,s;for(s=this.keys,i=n=0,o=s.length;n<o;i=++n)if(e=s[i],e===t)return this.values[i]},t.prototype.set=function(t,i){var e,n,o,s,r;for(r=this.keys,e=o=0,s=r.length;o<s;e=++o)if(n=r[e],n===t)return void(this.values[e]=i);return this.keys.push(t),this.values.push(i)},t}()),t=this.MutationObserver||this.WebkitMutationObserver||this.MozMutationObserver||(t=function(){function t(){"undefined"!=typeof console&&null!==console,"undefined"!=typeof console&&null!==console}return t.notSupported=!0,t.prototype.observe=function(){},t}()),n=this.getComputedStyle||function(t,i){return this.getPropertyValue=function(i){var e;return"float"===i&&(i="styleFloat"),o.test(i)&&i.replace(o,function(t,i){return i.toUpperCase()}),(null!=(e=t.currentStyle)?e[i]:void 0)||null},this},o=/(\-([a-z]){1})/g,this.WOW=function(){function o(t){null==t&&(t={}),this.scrollCallback=s(this.scrollCallback,this),this.scrollHandler=s(this.scrollHandler,this),this.resetAnimation=s(this.resetAnimation,this),this.start=s(this.start,this),this.scrolled=!0,this.config=this.util().extend(t,this.defaults),null!=t.scrollContainer&&(this.config.scrollContainer=document.querySelector(t.scrollContainer)),this.animationNameCache=new e,this.wowEvent=this.util().createEvent(this.config.boxClass)}return o.prototype.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0,callback:null,scrollContainer:null},o.prototype.init=function(){var t;return this.element=window.document.documentElement,"interactive"===(t=document.readyState)||"complete"===t?this.start():this.util().addEvent(document,"DOMContentLoaded",this.start),this.finished=[]},o.prototype.start=function(){var i,e,n,o;if(this.stopped=!1,this.boxes=function(){var t,e,n,o;for(n=this.element.querySelectorAll("."+this.config.boxClass),o=[],t=0,e=n.length;t<e;t++)i=n[t],o.push(i);return o}.call(this),this.all=function(){var t,e,n,o;for(n=this.boxes,o=[],t=0,e=n.length;t<e;t++)i=n[t],o.push(i);return o}.call(this),this.boxes.length)if(this.disabled())this.resetStyle();else for(o=this.boxes,e=0,n=o.length;e<n;e++)i=o[e],this.applyStyle(i,!0);if(this.disabled()||(this.util().addEvent(this.config.scrollContainer||window,"scroll",this.scrollHandler),this.util().addEvent(window,"resize",this.scrollHandler),this.interval=setInterval(this.scrollCallback,50)),this.config.live)return new t(function(t){return function(i){var e,n,o,s,r;for(r=[],e=0,n=i.length;e<n;e++)s=i[e],r.push(function(){var t,i,e,n;for(e=s.addedNodes||[],n=[],t=0,i=e.length;t<i;t++)o=e[t],n.push(this.doSync(o));return n}.call(t));return r}}(this)).observe(document.body,{childList:!0,subtree:!0})},o.prototype.stop=function(){if(this.stopped=!0,this.util().removeEvent(this.config.scrollContainer||window,"scroll",this.scrollHandler),this.util().removeEvent(window,"resize",this.scrollHandler),null!=this.interval)return clearInterval(this.interval)},o.prototype.sync=function(i){if(t.notSupported)return this.doSync(this.element)},o.prototype.doSync=function(t){var i,e,n,o,s;if(null==t&&(t=this.element),1===t.nodeType){for(t=t.parentNode||t,o=t.querySelectorAll("."+this.config.boxClass),s=[],e=0,n=o.length;e<n;e++)i=o[e],r.call(this.all,i)<0?(this.boxes.push(i),this.all.push(i),this.stopped||this.disabled()?this.resetStyle():this.applyStyle(i,!0),s.push(this.scrolled=!0)):s.push(void 0);return s}},o.prototype.show=function(t){return this.applyStyle(t),t.className=t.className+" "+this.config.animateClass,null!=this.config.callback&&this.config.callback(t),this.util().emitEvent(t,this.wowEvent),this.util().addEvent(t,"animationend",this.resetAnimation),this.util().addEvent(t,"oanimationend",this.resetAnimation),this.util().addEvent(t,"webkitAnimationEnd",this.resetAnimation),this.util().addEvent(t,"MSAnimationEnd",this.resetAnimation),t},o.prototype.applyStyle=function(t,i){var e,n,o;return n=t.getAttribute("data-wow-duration"),e=t.getAttribute("data-wow-delay"),o=t.getAttribute("data-wow-iteration"),this.animate(function(s){return function(){return s.customStyle(t,i,n,e,o)}}(this))},o.prototype.animate=function(){return"requestAnimationFrame"in window?function(t){return window.requestAnimationFrame(t)}:function(t){return t()}}(),o.prototype.resetStyle=function(){var t,i,e,n,o;for(n=this.boxes,o=[],i=0,e=n.length;i<e;i++)t=n[i],o.push(t.style.visibility="visible");return o},o.prototype.resetAnimation=function(t){var i;if(t.type.toLowerCase().indexOf("animationend")>=0)return i=t.target||t.srcElement,i.className=i.className.replace(this.config.animateClass,"").trim()},o.prototype.customStyle=function(t,i,e,n,o){return i&&this.cacheAnimationName(t),t.style.visibility=i?"hidden":"visible",e&&this.vendorSet(t.style,{animationDuration:e}),n&&this.vendorSet(t.style,{animationDelay:n}),o&&this.vendorSet(t.style,{animationIterationCount:o}),this.vendorSet(t.style,{animationName:i?"none":this.cachedAnimationName(t)}),t},o.prototype.vendors=["moz","webkit"],o.prototype.vendorSet=function(t,i){var e,n,o,s;n=[];for(e in i)o=i[e],t[""+e]=o,n.push(function(){var i,n,r,a;for(r=this.vendors,a=[],i=0,n=r.length;i<n;i++)s=r[i],a.push(t[""+s+e.charAt(0).toUpperCase()+e.substr(1)]=o);return a}.call(this));return n},o.prototype.vendorCSS=function(t,i){var e,o,s,r,a,h;for(a=n(t),r=a.getPropertyCSSValue(i),s=this.vendors,e=0,o=s.length;e<o;e++)h=s[e],r=r||a.getPropertyCSSValue("-"+h+"-"+i);return r},o.prototype.animationName=function(t){var i;try{i=this.vendorCSS(t,"animation-name").cssText}catch(e){i=n(t).getPropertyValue("animation-name")}return"none"===i?"":i},o.prototype.cacheAnimationName=function(t){return this.animationNameCache.set(t,this.animationName(t))},o.prototype.cachedAnimationName=function(t){return this.animationNameCache.get(t)},o.prototype.scrollHandler=function(){return this.scrolled=!0},o.prototype.scrollCallback=function(){var t;if(this.scrolled&&(this.scrolled=!1,this.boxes=function(){var i,e,n,o;for(n=this.boxes,o=[],i=0,e=n.length;i<e;i++)t=n[i],t&&(this.isVisible(t)?this.show(t):o.push(t));return o}.call(this),!this.boxes.length&&!this.config.live))return this.stop()},o.prototype.offsetTop=function(t){for(var i;void 0===t.offsetTop;)t=t.parentNode;for(i=t.offsetTop;t=t.offsetParent;)i+=t.offsetTop;return i},o.prototype.isVisible=function(t){var i,e,n,o,s;return e=t.getAttribute("data-wow-offset")||this.config.offset,s=this.config.scrollContainer&&this.config.scrollContainer.scrollTop||window.pageYOffset,o=s+Math.min(this.element.clientHeight,this.util().innerHeight())-e,n=this.offsetTop(t),i=n+t.clientHeight,n<=o&&i>=s},o.prototype.util=function(){return null!=this._util?this._util:this._util=new i},o.prototype.disabled=function(){return!this.config.mobile&&this.util().isMobile(navigator.userAgent)},o}()}).call(this),function(t,i,e,n){function o(i,e){var s=this;"object"==typeof e&&(delete e.refresh,delete e.render,t.extend(this,e)),this.$element=t(i),!this.imageSrc&&this.$element.is("img")&&(this.imageSrc=this.$element.attr("src"));var r=(this.position+"").toLowerCase().match(/\S+/g)||[];if(r.length<1&&r.push("center"),1==r.length&&r.push(r[0]),"top"!=r[0]&&"bottom"!=r[0]&&"left"!=r[1]&&"right"!=r[1]||(r=[r[1],r[0]]),this.positionX!=n&&(r[0]=this.positionX.toLowerCase()),this.positionY!=n&&(r[1]=this.positionY.toLowerCase()),s.positionX=r[0],s.positionY=r[1],"left"!=this.positionX&&"right"!=this.positionX&&(isNaN(parseInt(this.positionX))?this.positionX="center":this.positionX=parseInt(this.positionX)),"top"!=this.positionY&&"bottom"!=this.positionY&&(isNaN(parseInt(this.positionY))?this.positionY="center":this.positionY=parseInt(this.positionY)),this.position=this.positionX+(isNaN(this.positionX)?"":"px")+" "+this.positionY+(isNaN(this.positionY)?"":"px"),navigator.userAgent.match(/(iPod|iPhone|iPad)/))return this.imageSrc&&this.iosFix&&!this.$element.is("img")&&this.$element.css({backgroundImage:"url("+this.imageSrc+")",backgroundSize:"cover",backgroundPosition:this.position}),this;if(navigator.userAgent.match(/(Android)/))return this.imageSrc&&this.androidFix&&!this.$element.is("img")&&this.$element.css({backgroundImage:"url("+this.imageSrc+")",backgroundSize:"cover",backgroundPosition:this.position}),this;this.$mirror=t("<div />").prependTo("body");var a=this.$element.find(">.parallax-slider"),h=!1;0==a.length?this.$slider=t("<img />").prependTo(this.$mirror):(this.$slider=a.prependTo(this.$mirror),h=!0),this.$mirror.addClass("parallax-mirror").css({visibility:"hidden",zIndex:this.zIndex,position:"fixed",top:0,left:0,overflow:"hidden"}),this.$slider.addClass("parallax-slider").one("load",function(){s.naturalHeight&&s.naturalWidth||(s.naturalHeight=this.naturalHeight||this.height||1,s.naturalWidth=this.naturalWidth||this.width||1),s.aspectRatio=s.naturalWidth/s.naturalHeight,o.isSetup||o.setup(),o.sliders.push(s),o.isFresh=!1,o.requestRender()}),h||(this.$slider[0].src=this.imageSrc),(this.naturalHeight&&this.naturalWidth||this.$slider[0].complete||a.length>0)&&this.$slider.trigger("load")}function s(n){return this.each(function(){var s=t(this),r="object"==typeof n&&n;this==i||this==e||s.is("body")?o.configure(r):s.data("px.parallax")?"object"==typeof n&&t.extend(s.data("px.parallax"),r):(r=t.extend({},s.data(),r),s.data("px.parallax",new o(this,r))),"string"==typeof n&&("destroy"==n?o.destroy(this):o[n]())})}!function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!i.requestAnimationFrame;++n)i.requestAnimationFrame=i[e[n]+"RequestAnimationFrame"],i.cancelAnimationFrame=i[e[n]+"CancelAnimationFrame"]||i[e[n]+"CancelRequestAnimationFrame"];i.requestAnimationFrame||(i.requestAnimationFrame=function(e){var n=(new Date).getTime(),o=Math.max(0,16-(n-t)),s=i.setTimeout(function(){e(n+o)},o);return t=n+o,s}),i.cancelAnimationFrame||(i.cancelAnimationFrame=function(t){clearTimeout(t)})}(),t.extend(o.prototype,{speed:.2,bleed:0,zIndex:-100,iosFix:!0,androidFix:!0,position:"center",overScrollFix:!1,refresh:function(){this.boxWidth=this.$element.outerWidth(),this.boxHeight=this.$element.outerHeight()+2*this.bleed,this.boxOffsetTop=this.$element.offset().top-this.bleed,this.boxOffsetLeft=this.$element.offset().left,this.boxOffsetBottom=this.boxOffsetTop+this.boxHeight;var t=o.winHeight,i=o.docHeight,e=Math.min(this.boxOffsetTop,i-t),n=Math.max(this.boxOffsetTop+this.boxHeight-t,0),s=this.boxHeight+(e-n)*(1-this.speed)|0,r=(this.boxOffsetTop-e)*(1-this.speed)|0;if(s*this.aspectRatio>=this.boxWidth){this.imageWidth=s*this.aspectRatio|0,this.imageHeight=s,this.offsetBaseTop=r;var a=this.imageWidth-this.boxWidth;"left"==this.positionX?this.offsetLeft=0:"right"==this.positionX?this.offsetLeft=-a:isNaN(this.positionX)?this.offsetLeft=-a/2|0:this.offsetLeft=Math.max(this.positionX,-a)}else{this.imageWidth=this.boxWidth,this.imageHeight=this.boxWidth/this.aspectRatio|0,this.offsetLeft=0;var a=this.imageHeight-s;"top"==this.positionY?this.offsetBaseTop=r:"bottom"==this.positionY?this.offsetBaseTop=r-a:isNaN(this.positionY)?this.offsetBaseTop=r-a/2|0:this.offsetBaseTop=r+Math.max(this.positionY,-a)}},render:function(){var t=o.scrollTop,i=o.scrollLeft,e=this.overScrollFix?o.overScroll:0,n=t+o.winHeight;this.boxOffsetBottom>t&&this.boxOffsetTop<=n?(this.visibility="visible",this.mirrorTop=this.boxOffsetTop-t,this.mirrorLeft=this.boxOffsetLeft-i,this.offsetTop=this.offsetBaseTop-this.mirrorTop*(1-this.speed)):this.visibility="hidden",this.$mirror.css({transform:"translate3d(0px, 0px, 0px)",visibility:this.visibility,top:this.mirrorTop-e,left:this.mirrorLeft,height:this.boxHeight,width:this.boxWidth}),this.$slider.css({transform:"translate3d(0px, 0px, 0px)",position:"absolute",top:this.offsetTop,left:this.offsetLeft,height:this.imageHeight,width:this.imageWidth,maxWidth:"none"})}}),t.extend(o,{scrollTop:0,scrollLeft:0,winHeight:0,winWidth:0,docHeight:1<<30,docWidth:1<<30,sliders:[],isReady:!1,isFresh:!1,isBusy:!1,setup:function(){if(!this.isReady){var n=t(e),s=t(i),r=function(){o.winHeight=s.height(),o.winWidth=s.width(),o.docHeight=n.height(),o.docWidth=n.width()},a=function(){var t=s.scrollTop(),i=o.docHeight-o.winHeight,e=o.docWidth-o.winWidth;o.scrollTop=Math.max(0,Math.min(i,t)),o.scrollLeft=Math.max(0,Math.min(e,s.scrollLeft())),o.overScroll=Math.max(t-i,Math.min(t,0))};s.on("resize.px.parallax load.px.parallax",function(){r(),o.isFresh=!1,o.requestRender()}).on("scroll.px.parallax load.px.parallax",function(){a(),o.requestRender()}),r(),a(),this.isReady=!0}},configure:function(i){"object"==typeof i&&(delete i.refresh,delete i.render,t.extend(this.prototype,i))},refresh:function(){t.each(this.sliders,function(){this.refresh()}),this.isFresh=!0},render:function(){this.isFresh||this.refresh(),t.each(this.sliders,function(){this.render()})},requestRender:function(){var t=this;this.isBusy||(this.isBusy=!0,i.requestAnimationFrame(function(){t.render(),t.isBusy=!1}))},destroy:function(e){var n,s=t(e).data("px.parallax");for(s.$mirror.remove(),n=0;n<this.sliders.length;n+=1)this.sliders[n]==s&&this.sliders.splice(n,1);t(e).data("px.parallax",!1),0===this.sliders.length&&(t(i).off("scroll.px.parallax resize.px.parallax load.px.parallax"),this.isReady=!1,o.isSetup=!1)}});var r=t.fn.parallax;t.fn.parallax=s,t.fn.parallax.Constructor=o,t.fn.parallax.noConflict=function(){return t.fn.parallax=r,this},t(e).on("ready.px.parallax.data-api",function(){t('[data-parallax="scroll"]').parallax()})}(jQuery,window,document),$(document).ready(function(){(new WOW).init(),$("#shopping-cart").on("show.bs.modal",function(t){$.get("/products/get-order-data",function(t){if("ok"==t.status){$(".load-block").addClass("hidden");var i=t.data.length;if(i>0){$(".cart-empty").addClass("hidden"),$(".content-block").removeClass("hidden"),$(".block-total-price").removeClass("hidden"),$("#shopping-cart button[type='submit']").removeClass("hidden"),$(".product-list").empty();var e=$("#shopping-cart-product").html();Mustache.parse(e),$.each(t.data,function(t,i){i.work_price=i.price*i.quantity,i.work_id=t,$(".product-list").append(Mustache.render(e,i)),$(".product-list").append("<hr/>")}),totalSum()}else $(".empty-block").removeClass("hidden"),$(".content-block").addClass("hidden"),$(".block-total-price").addClass("hidden"),$("#shopping-cart button[type='submit']").addClass("hidden")}else"bad"==t.status&&t.auth&&($("#shopping-cart").modal("hide"),$(".not-auth-user").removeClass("hidden"),$(".not-auth-user").html("<p><b>"+t.message+"</p></b>"),$("#login-form").modal("show"))})}),$("[data-target='#login-form']").click(function(t){$(".not-auth-user").addClass("hidden")}),$("body").on("click",".cart-quantity-minus",function(t){var i=$(this).next("input").data("id"),e=+$(this).next("input").val(),n=$(this).next("input").data("price"),o=$(this).next("input").data("bonds");e>1&&($(this).next("input").val(--e),$("#sum-price-"+i).html(n*e),changeCountProduct(o,e)),totalSum()}),$("body").on("click",".cart-quantity-plus",function(t){var i=$(this).prev("input").data("id"),e=+$(this).prev("input").val(),n=$(this).prev("input").data("price"),o=$(this).prev("input").data("bonds");$(this).prev("input").val(++e),$("#sum-price-"+i).html(n*e),changeCountProduct(o,e),totalSum()}),$("body").on("change keyup",".quantity",function(t){var i=$(this).data("bonds");this.value=this.value.replace(/[^0-9]/g,""),(""==this.value||this.value<1)&&(this.value=1),changeCountProduct(i,this.value),totalSum()})}),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('input[name="_token"]').val()}}),$(window).scroll(function(){$(this).scrollTop()>10?$(".scroller").fadeIn():$(".scroller").fadeOut()}),$(".scroller").click(function(){return $("body,html").animate({scrollTop:0},400),!1}),$(window).scrollTop()>10&&$(".scroller").fadeIn(),function(t){function i(){var i=t("#top__content").outerHeight(!0),e=t("#w-sticker").outerHeight(!0);t(window).scrollTop()>=i&&t(window).innerWidth()>767?(t("#w-sticker").css("height",e),t("#sticker").addClass("active")):(t("#sticker").removeClass("active"),t("#w-sticker").removeAttr("style"))}t(window).on("scroll",i),t(window).on("resize",i)}(jQuery),$(".show-reset-pass-form").click(function(t){$("#show-login-form").hide(400),$("#show-reset-pass-form").show(400)}),$(".show-login-form").click(function(t){$("#show-reset-pass-form").hide(400),$("#show-login-form").show(400)});